syntax = "proto3";
package services;

option go_package=".;wakadoo_grpc_contract";

service File {
  rpc Save(FileSaveRequest) returns (FileSaveResponse) {}
  rpc Get(FileGetRequest) returns (FileGetResponse) {}
}

service Auth {
  rpc SignIn(SignInRequest) returns (SignInResponse) {}
}

message SignInRequest {
  string email = 1;
  string password = 2;
}

message SignInResponse {
  Account account = 1;
  string session = 2;
}

message Account {
  string email = 1;
  string name = 2;
}

message FileSaveRequest {
  string name = 1;
  bytes bytes = 2;
}

message FileSaveResponse {
  uint64 byteCount = 1;
}

message FileGetRequest {
  string name = 1;
}

message FileGetResponse {
  bytes bytes = 1;
}